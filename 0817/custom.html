<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bitcount+Single:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/bgm.css?v=20250728_2">
    <title>COBUBU make page</title>
    <link rel="stylesheet" href="css/custom.css?v=20250817">
</head>

<body>
    <header class="header">
        <h1>Make COBUBU</h1>
    </header>

    <main class="app">
        <!-- Ï¢åÏ∏° Ïª®Ìä∏Î°§ -->
        <section class="panel control-panel">
            <div class="tabs" role="tablist" aria-label="category">
                <button class="tab-btn" role="tab" id="tab-HEAD" data-cat="HEAD" aria-selected="true">HEAD</button>
                <button class="tab-btn" role="tab" id="tab-BODY" data-cat="BODY" aria-selected="false">BODY</button>
                <button class="tab-btn" role="tab" id="tab-ACC" data-cat="ACC" aria-selected="false">ACC</button>
            </div>
            <div class="scroll-container">
                <div class="subparts" id="subparts" aria-live="polite"></div>
                <p class="hint">‚Ä¢ Switch category tabs, then click a thumbnail to replace only that layer.<br><br>‚Ä¢
                    Subparts can
                    stack (e.g., HEAD/HAT + HEAD/EMOTION).</p>
                <div id="thumbs" class="thumbs"></div>

            </div>
        </section>

        <!-- Ïö∞Ï∏° ÌîÑÎ¶¨Î∑∞ Ïä§ÌÖåÏù¥ÏßÄ -->
        <section class="panel stage-wrap">
            <div class="stage-text"><span class="scrolling-text">Make your own COBUBU and share it on MemeX or X!</span>
            </div>
            <div class="stage-content">
                <div class="stage-actions">
                    <button class="btn" id="btn-reset">üîÑ Reset</button>
                    <button class="btn" id="btn-random">üé≤Random</button>
                    <button class="btn" id="btn-save">üíæ Save</button>
                </div>
                <div class="stage" id="stage" aria-live="polite" aria-label="preview">
                    <!-- BODY -->
                    <div class="layer" id="L-BODY-BASE" style="z-index: 10"></div>
                    <div class="layer" id="L-BODY-CLOTH" style="z-index: 20"></div>

                    <!-- HEAD -->
                    <div class="layer" id="L-HEAD-BASE" style="z-index: 30"></div>

                    <!-- HEAD subparts -->
                    <div class="layer" id="L-HEAD-HAT" style="z-index: 40"></div>
                    <div class="layer" id="L-HEAD-EYES" style="z-index: 50"></div>
                    <div class="layer" id="L-HEAD-EMOTION" style="z-index: 60"></div>

                    <!-- ACC -->
                    <div class="layer" id="L-ACC-BASE" style="z-index: 70"></div>
                    <div class="layer" id="L-ACC-HAND" style="z-index: 80"></div>
                    <div class="layer" id="L-ACC-OTHER" style="z-index: 90"></div>

                    <!-- Nickname Layer -->
                    <div class="layer" id="L-NICKNAME" style="z-index: 100"></div>
                </div>
            </div>
        </section>
    </main>

    <!-- ÎãâÎÑ§ÏûÑ ÏûÖÎ†• ÌåùÏóÖ -->
    <div class="popup" id="nickname-popup" style="display: none;">
        <div class="nickname-popup-content">
            <p class="popup-caption">Please enter your nickname. (e.g. @asvieKR)</p>
            <input type="text" id="nickname-input" class="nickname-input" placeholder="Enter your nickname" maxlength="20">
            <div class="popup-actions">
                <button class="btn popup-btn" id="btn-submit-nickname">Submit</button>
            </div>
        </div>
    </div>

    <!-- ÏÑ∏Ïù¥Î∏å ÌåùÏóÖ -->
    <div class="popup" id="save-popup" style="display: none;">
        <div class="popup-content">
            <div class="popup-preview" id="popup-preview"></div>
            <p class="popup-caption">This is only your own COBUBU!!</p>
            <div class="popup-actions">
                <button class="btn popup-btn" id="btn-download">Download</button>
                <button class="btn popup-btn" id="btn-share-x">Share to X</button>
                <button class="btn popup-btn" id="btn-share-memex">Share to MemeX</button>
                <button class="btn popup-btn" id="btn-close-popup">Close</button>
            </div>
        </div>
    </div>

    <script src="js/custom.js?v=20250817"></script>

    <!-- ÏÇ¨Ïù¥ÎìúÎ∞î (ÌîÑÎ°úÏ†ùÌä∏ Í≥µÌÜµ) -->
    <button id="sidebar-toggle" onclick="toggleSidebar()">‚ùØ</button>
    <script src="js/sidebar.js"></script>
    <div id="sidebar" class="sidebar">
        <div class="sidebar-content">
            <button onclick="location.href='index'">üè† Main</button>
            <button onclick="location.href='series'">‚úÖ Series</button>
            <button onclick="location.href='museum'">üñº Museum</button>
            <button onclick="location.href='game'">üéÆ Game</button>
            <button onclick="location.href='library'">üìñ Library</button>
        </div>
    </div>

    <!-- BGM (ÌîÑÎ°úÏ†ùÌä∏ Í≥µÌÜµ) -->
    <div id="bgm-container">
        <button id="start-button"><img id="bgm-icon" src="img/BGM_ON.png" alt="BGM Icon"></button>
        <div class="bgm-label">BGM ON</div>
        <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.3">
        <audio id="bgm-audio" src="effect/bgm.mp3" autoplay loop></audio>
    </div>
    <img id="bgm-icon" src="img/BGM_ON.png" style="display:none;" />
    <script src="js/bgm.js" defer></script>
</body>

</html>